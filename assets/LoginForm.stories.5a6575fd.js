import{r as h}from"./index.f6283c0d.js";import{u as S,B as C,F as y,G as a,V as k,a as L,A as _,U as A}from"./FormHeading.684d0e74.js";import{a as o,j as e}from"./jsx-runtime.f3747052.js";import{u as P}from"./index.4a46a46f.js";import{T as b}from"./TextField.1e8334f4.js";import{I as B,a as D}from"./InputAdornment.532e7100.js";import{B as T}from"./Button.2a734ebb.js";import"./createTheme.a5a3adff.js";import"./TransitionGroupContext.b1d3016a.js";import"./index.60db5238.js";import"./ButtonBase.cb397a7c.js";const E="_link_svw3s_1",I="_linkContainer_svw3s_7";var d={link:E,linkContainer:I};function x(){var p,u,g,f;const{register:l,handleSubmit:m,formState:{errors:s}}=S(),v=P(),[i,w]=h.exports.useState(!1),[c,n]=h.exports.useState("");return o(C,{component:"form",onSubmit:m(t=>{const F={title:t.title,firstname:t.firstname,lastname:t.lastname,email:t.email,password:t.password};A.login(F).then(r=>{r.status===200?(n(""),v("/app/dashboard")):r.status===400?n("Deine Anmeldedaten sind ung\xFCltig"):r.status===500?n("Verarbeitungsfehler auf dem Server"):n(`Fehler bei der Verbindung zum Server: ${r.status}`)}).catch(r=>{n(`Fehler bei der Verbindung zum Server: ${r}`)})}),children:[e(y,{children:"Log In"}),o(a,{container:!0,gap:2,justifyContent:"center",alignItems:"center",paddingX:3,children:[e(a,{item:!0,xs:12,children:e(b,{label:"E-Mail*",fullWidth:!0,...l("email",{required:"Pflichtfeld",pattern:{value:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Ung\xFCltige E-Mail Adresse"}}),autoComplete:"email",error:s.email!==void 0,helperText:(u=(p=s.email)==null?void 0:p.message)==null?void 0:u.toString(),"data-testid":"login_email"})}),e(a,{item:!0,xs:12,children:e(b,{type:i?"text":"password",fullWidth:!0,...l("password",{required:"Pflichtfeld"}),label:"Passwort*",autoComplete:"password",error:s.password!==void 0,helperText:(f=(g=s.password)==null?void 0:g.message)==null?void 0:f.toString(),InputProps:{endAdornment:e(B,{position:"end",children:e(D,{"aria-label":i?"Passwort verstecken":"Passwort zeigen",onClick:()=>w(!i),onMouseDown:t=>t.preventDefault(),edge:"end",children:i?e(k,{}):e(L,{})})})},"data-testid":"login_password"})}),c?e(a,{item:!0,xs:12,textAlign:"center",children:e(_,{severity:"error",children:c})}):""]}),o("div",{className:d.linkContainer,children:[e(T,{sx:{marginBottom:1.5},type:"submit",variant:"contained","data-testid":"login_submit",children:"Einloggen"}),o("span",{children:["Passwort vergessen?",e("a",{href:"/register",className:d.link,children:" Reset"})]}),o("span",{children:["Neu hier?",e("a",{href:"/register",className:d.link,children:" Registrieren"})]})]})]})}var X={parameters:{storySource:{source:`import React from 'react';
import { ComponentStory, ComponentMeta } from '@storybook/react';
import LoginForm from './LoginForm';

export default {
  title: 'Components/LoginForm',
  component: LoginForm,
} as ComponentMeta<typeof LoginForm>;

const Template: ComponentStory<any> = function signUpForm(args) {
  return <LoginForm {...args} />;
};

export const Default = Template.bind({});
Default.args = {};
`,locationsMap:{default:{startLoc:{col:38,line:10},endLoc:{col:1,line:12},startBody:{col:38,line:10},endBody:{col:1,line:12}}}}},title:"Components/LoginForm",component:x};const M=function(m){return e(x,{...m})},U=M.bind({});U.args={};const J=["Default"];export{U as Default,J as __namedExportsOrder,X as default};
//# sourceMappingURL=LoginForm.stories.5a6575fd.js.map
